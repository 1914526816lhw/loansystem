(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab29c578"],{2695:function(t,a,n){"use strict";n.r(a);var o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"main"},[t._l(t.LoanContractList,(function(a,o){return n("div",{key:o,staticClass:"card"},[n("div",{staticClass:"cardMain",on:{click:function(n){return t.openDialog(a.contractId)}}},[n("div",{staticClass:"header"},[n("div",{staticClass:"headerTitle"},[n("span",{staticClass:"header_syd"},[t._v("生源地")]),t._v(" "+t._s(a.loanContractId)+" ")]),n("div",{staticClass:"headerMain"},[t._v(t._s(a.loanSchoolYear))])]),n("div",{staticClass:"content"},[n("div",{staticClass:"maney"},[n("div",{staticClass:"maneyTitle"},[t._v("活动金额")]),n("div",{staticClass:"maneyNumber"},[t._v("￥"+t._s(a.loanMoney))])]),n("div",{staticClass:"maney"},[n("div",{staticClass:"maneyTitle"},[t._v("活动余额")]),n("div",{staticClass:"maneyNumber"},[t._v("￥"+t._s(a.loanBalance))])])])]),n("div",{staticClass:"cardBottom"},[n("el-button",{attrs:{type:"text",icon:"el-icon-s-order"},on:{click:function(a){return t.openPay(o)}}},[t._v("提前还款")]),n("el-button",{attrs:{type:"text",icon:"el-icon-download"},on:{click:t.exportContract}},[t._v("导出电子合同")])],1)])})),n("el-dialog",{attrs:{title:"合同信息",visible:t.dialogVisible,width:"900px"},on:{"update:visible":function(a){t.dialogVisible=a}}},[n("div",{staticClass:"dialogMain"},[n("div",{staticClass:"title"},[t._v(" 合同编号："+t._s(t.dialogInfo.contractId)+" "),n("span",[t._v("-生源地")])]),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("div",[t._v(" 贷款金额： "),n("span",[t._v(t._s(t.dialogInfo.loanMoney))])])]),n("el-col",{attrs:{span:12}},[n("div",[t._v(" 发放日期： "),n("span",[t._v(t._s(t.dialogInfo.loanDate.toString().substr(0,10)))])])]),n("el-col",{attrs:{span:12}},[n("div",[t._v(" 合同金额： "),n("span",[t._v(t._s(t.dialogInfo.loanBalance))])])]),n("el-col",{attrs:{span:12}},[n("div",[t._v(" 到期日期： "),n("span",[t._v(t._s(t.dialogInfo.endDate.toString().substr(0,10)))])])])],1),n("div",{staticClass:"text"},[t._v(" 贴息截止日： "),n("span",[t._v(t._s(t.dialogInfo.userGraduationTime.toString().substr(0,10)))])]),n("div",{staticClass:"text"},[t._v(" 贷款办理机构： "),n("span",[t._v(t._s(t.dialogInfo.fundingCenterName))])]),n("el-button",{staticStyle:{width:"200px"},attrs:{type:"danger"}},[t._v("提前还款")]),n("el-tabs",{attrs:{value:"jinqi"}},[n("el-tab-pane",{attrs:{label:"近期应还",name:"jinqi"}},[n("div",[t._v(t._s(t.dialogInfo.currentDateRepay))])])],1)],1)]),n("el-dialog",{attrs:{title:"提前还款",visible:t.dialogVisible2,"close-on-click-modal":!1,width:"700px"},on:{"update:visible":function(a){t.dialogVisible2=a}}},[n("div",{staticClass:"payTitle"},[t._v(t._s(t.dialogInfo2.loanSchoolYear))]),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:12}},[n("div",{class:t.dialogInfo2.repaymentType?"payBox":"focusBox",on:{click:function(a){t.dialogInfo2.repaymentType=0}}},[n("div",{staticClass:"text"},[t._v("全额还款（本金）")]),n("div",{staticClass:"payment"},[t._v(t._s(t.dialogInfo2.loanBalance))]),n("i",{staticClass:"el-icon-circle-check"})])]),n("el-col",{attrs:{span:12}},[n("div",{class:t.dialogInfo2.repaymentType?"focusBox":"payBox",on:{click:function(a){t.dialogInfo2.repaymentType=1}}},[n("div",{staticClass:"text"},[t._v("部分还款（本金）")]),n("div",{staticStyle:{"margin-top":"10px"}},[n("el-input",{attrs:{size:"small",type:"number",min:"500",placeholder:"还款金额最低500,且100的倍数"},model:{value:t.dialogInfo2.repaymentAmount,callback:function(a){t.$set(t.dialogInfo2,"repaymentAmount",a)},expression:"dialogInfo2.repaymentAmount"}})],1),n("i",{staticClass:"el-icon-circle-check"})])])],1),n("div",{staticClass:"footBtn"},[n("el-button",{on:{click:function(a){t.dialogVisible2=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submitPay}},[t._v("提交")])],1)],1)],2)},e=[],s={data:function(){return{activeName:"second",dialogInfo:{loanDate:"",loanMoney:"",loanBalance:"",endDate:"",contractId:"",fundingCenterName:"",userGraduationTime:"",currentDateRepay:""},dialogInfo2:{loanSchoolYear:"2019-2020合同",contractId:"",loanBalance:"3000",repaymentAmount:"",repaymentType:0},LoanContractList:[],dialogVisible:!1,dialogVisible2:!1}},created:function(){var t=this;this.$axios.post("/user/getAllLoanContract",{userLoginAccount:sessionStorage.getItem("userLoginAccount")}).then((function(a){var n=a.status,o=a.data;200==n?t.LoanContractList=o:401==n&&t.$message({message:"获取失败",type:"error"})})).catch((function(t){console.log(t)}))},methods:{closeDialog:function(){this.dialogVisible=!1},openDialog:function(t){var a=this;this.$axios.post("/loan/loanContractInfo",{userLoginAccount:sessionStorage.getItem("userLoginAccount"),contractId:t}).then((function(t){var n=t.status,o=t.data;200==n?(a.dialogInfo=o,a.dialogVisible=!0):401==n&&a.$message({message:"获取失败",type:"error"})})).catch((function(t){console.log(t)}))},exportContract:function(){var t=this;this.$axios.post("/loan/exportAppForm",{userLoginAccount:sessionStorage.getItem("userLoginAccount")}).then((function(a){var n=a.status,o=a.data;200==n?console.log(o):401==n&&t.$message({message:"获取失败",type:"error"})})).catch((function(t){console.log(t)}))},openPay:function(t){this.dialogInfo2=this.LoanContractList[t],this.dialogVisible2=!0},submitPay:function(){var t=this,a=this.dialogInfo2,n=a.contractId,o=a.repaymentType,e=a.loanBalance,s=a.repaymentAmount;this.$axios.post("/user/pay",{userLoginAccount:sessionStorage.getItem("userLoginAccount"),contractId:n,repaymentAmount:o?parseFloat(s):parseFloat(e)}).then((function(a){var n=a.status;200==n?(t.$message({message:"支付成功",type:"success"}),t.dialogVisible2=!1):401==n&&t.$message({message:"支付失败",type:"error"})})).catch((function(t){console.log(t)}))}}},i=s,l=(n("4646"),n("2877")),c=Object(l["a"])(i,o,e,!1,null,"02ed71c4",null);a["default"]=c.exports},4646:function(t,a,n){"use strict";var o=n("9668"),e=n.n(o);e.a},9668:function(t,a,n){}}]);
//# sourceMappingURL=chunk-ab29c578.bbc184ce.js.map